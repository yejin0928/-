CREATE OR REPLACE TRIGGER BEFOREINSERTFOOD
BEFORE INSERT ON REFRIGERATOR
 FOR EACH ROW
DECLARE
 invalid_day EXCEPTION;

  BEGIN

  IF TO_CHAR(:new.REFRIGERATOR_FOODBESTBEFORE,'yyyy-mm-dd')<TO_CHAR(:new.REFRIGERATOR_FOODPURCHASEDATE,'yyyy-mm-dd') THEN
  RAISE invalid_day;
  END IF;

  EXCEPTION
  WHEN  invalid_day THEN
  RAISE_APPLICATION_ERROR(-20293, '유통기한은 구매날짜 후여야 합니다');

  END;
   /